# AWS Re:Invent 2019 - An Overview

In late 2019 I was fortunate enough to be able to attend AWS Re:Invent 2019.
Much like I did [last year](/blog/005), I wanted to write
a short post about the new releases I was most interested in as well as some
interesting talks I attended.

# New releases

### [HTTP APIs for API Gateway](https://aws.amazon.com/blogs/compute/announcing-http-apis-for-amazon-api-gateway/)
This announcement was probably the one I found most interesting. [API Gateway
pricing](https://epsagon.com/blog/dont-be-surprised-by-your-serverless-bill/) is
often the most expensive part of a Serverless stack at scale due to its wide
array of features such as request transformation, authentication and validation.
When you just want to use a Lambda function to power a rest API, a large API
Gateway bill can leave a sour taste in the mouth.

HTTP APIs for API Gateway (sometimes referred to as API Gateway v2) provide the
core features needed for AWS Lambda and HTTP proxy APIs at an average cost
saving of 70%. If you're wondering about the feature differences between the two
flavours of API Gateway then you're in luck, AWS have produced an excellent
[table](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-vs-rest.html).

### [RDS Proxy](https://aws.amazon.com/about-aws/whats-new/2019/12/amazon-rds-proxy-available-in-preview/)
Due to the stateless nature of AWS Lambda, connection pooling was naturally
harder to accomplish than in applications running in EC2. Often the best
solution was to instantiate the
[connection outside of the function handler](https://spotinst.com/blog/best-practices-serverless-connection-pooling-database/). With this approach,
however, there is still the possibility a large number of database connections
could be established as function containers are span up.

Seemingly designed for this exact use case, AWS released RDS Proxy at Re:Invent
- a fully-managed database proxy for RDS; rather than instrumenting connection
pooling in your applications, you can simply connect to an RDS Proxy and leave
the heavy lifting to AWS.

### [Builder's Library](https://aws.amazon.com/blogs/aws/check-out-the-amazon-builders-library-this-is-how-we-do-it/)
Despite not a new AWS feature or service, the Builder's Library is one of the
most exciting AWS features in recent memory. The Builder's Library is a
collection of articles, written by experts, about the computer science problems
tackled as part of AWS' business. Colm MacCárthaigh's excellent read on
[shuffle sharding](https://aws.amazon.com/builders-library/workload-isolation-using-shuffle-sharding/)
is my favourite so far.

# Top talks
I went to some really interesting sessions over the week so I thought it was
worth calling those out in this post.

### [Serverless stream processing pipeline best practices (SVS317)](https://www.youtube.com/watch?v=2SGOyhwcbV4)
This was a great talk from Comcast about how they use Kinesis to perform
real-time analytics when rolling out changes.

### [How Prime Video processes 8 percent of all US internet traffic on AWS](https://www.youtube.com/watch?v=V4QDq-OFojQ)
You can always rely on Amazon for a snappy session title; this talk focused on
the process of building Prime Video's new telemetry system.

### [Amazon’s approach to security during development](https://www.youtube.com/watch?v=NeR7FhHqDGQ)
Given by Colm MacCárthaigh (who's work I mentioned earlier in the section on the
AWS Builder's Librar), this session was an insightful journey into how AWS
builds its systems in a secure way; the main takeaway I had was that security
can't become a priority without the culture in place - product teams must be
happy to accept feature work being sacrificed or delayed to deal with security
work.

# My talk
I couldn't talk about AWS Re:Invent 2019 without a shameless plug for my own
talk; I was fortunate enough to be asked by AWS to talk about how the BBC uses
Lambda@Edge to customise the HTML page for each given Smart TV, and how we moved
from a stateful application running on EC2 to a fully Serverless solution using
CloudFront and Lambda@Edge. My talk was a Chalk Talk rather than a session so it
wasn't recorded, however the slides are available
[here](https://d1.awsstatic.com/events/reinvent/2019/How_the_BBC_uses_Lambda@Edge_to_customize_device_pages_NET312.pdf).
